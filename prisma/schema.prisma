generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model User {
  id         Int      @id @default(autoincrement())
  username   String   @unique
  password   String
  created_at DateTime @default(now())

  @@map("users")
}

model Item {
  id         Int           @id @default(autoincrement())
  title      String
  content    String?       @db.Text
  category   ItemCategory? @default(announcement)
  image_url  String?
  start_date DateTime?
  end_date   DateTime?
  created_at DateTime      @default(now())
  updated_at DateTime      @default(now()) @updatedAt

  @@map("items")
}

model Schedule {
  id          Int      @id @default(autoincrement())
  course_name String
  lecturer    String?
  room        String?
  day_of_week String
  start_time  DateTime @db.Time
  end_time    DateTime @db.Time
  created_at  DateTime @default(now())

  @@map("schedules")
}

model Setting {
  id                 Int      @id @default(autoincrement())
  school_name        String?  @default("Campus Information Center")
  logo_url           String?
  color_bg_page      String?  @default("#f4f4f4")
  color_bg_header    String?  @default("#003366")
  color_bg_marquee   String?  @default("#003366")
  color_text_header  String?  @default("#ffffff")
  color_text_marquee String?  @default("#ffffff")
  updated_at         DateTime @default(now()) @updatedAt

  @@map("settings")
}

enum ItemCategory {
  announcement
  event
  news
  video
}
